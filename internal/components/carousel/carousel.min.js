(()=>{(function(){function c(n){let o=n.querySelector(".carousel-track"),p=Array.from(o?.querySelectorAll(".carousel-item")||[]);if(p.length===0)return;let v=Array.from(n.querySelectorAll(".carousel-indicator")),a=n.querySelector(".carousel-prev"),l=n.querySelector(".carousel-next"),t={currentIndex:0,slideCount:p.length,autoplay:n.dataset.autoplay==="true",interval:parseInt(n.dataset.interval||5e3),loop:n.dataset.loop==="true",autoplayInterval:null,isHovering:!1,touchStartX:0};function y(){o.style.transform=`translateX(-${t.currentIndex*100}%)`}function g(){v.forEach((e,s)=>{s<t.slideCount?(s===t.currentIndex?(e.classList.add("bg-white"),e.classList.remove("bg-white/50")):(e.classList.remove("bg-white"),e.classList.add("bg-white/50")),e.style.display=""):e.style.display="none"})}function m(){a&&(a.disabled=!t.loop&&t.currentIndex===0,a.classList.toggle("opacity-50",a.disabled),a.classList.toggle("cursor-not-allowed",a.disabled)),l&&(l.disabled=!t.loop&&t.currentIndex===t.slideCount-1,l.classList.toggle("opacity-50",l.disabled),l.classList.toggle("cursor-not-allowed",l.disabled))}function i(){t.autoplayInterval&&clearInterval(t.autoplayInterval),t.autoplay&&(t.autoplayInterval=setInterval(()=>{t.isHovering||r()},t.interval))}function I(){t.autoplayInterval&&(clearInterval(t.autoplayInterval),t.autoplayInterval=null)}function r(){let e=t.currentIndex+1;if(e>=t.slideCount)if(t.loop)e=0;else return;u(e)}function h(){let e=t.currentIndex-1;if(e<0)if(t.loop)e=t.slideCount-1;else return;u(e)}function u(e){if(e<0||e>=t.slideCount)if(t.loop)e=(e+t.slideCount)%t.slideCount;else return;e!==t.currentIndex&&(t.currentIndex=e,y(),g(),m(),t.autoplay&&!t.isHovering&&(I(),i()))}o&&(o.addEventListener("touchstart",e=>{t.touchStartX=e.touches[0].clientX},{passive:!0}),o.addEventListener("touchend",e=>{let s=e.changedTouches[0].clientX,L=t.touchStartX-s;Math.abs(L)>50&&(L>0?r():h())},{passive:!0})),v.forEach((e,s)=>{s<t.slideCount&&e.addEventListener("click",()=>u(s))}),a&&a.addEventListener("click",h),l&&l.addEventListener("click",r),n.addEventListener("mouseenter",()=>{t.isHovering=!0,t.autoplay&&I()}),n.addEventListener("mouseleave",()=>{t.isHovering=!1,t.autoplay&&i()}),y(),g(),m(),t.autoplay&&i()}function d(n=document){n instanceof Element&&n.matches(".carousel-component")&&c(n);for(let o of n.querySelectorAll(".carousel-component"))c(o)}let f=n=>{let o=n.detail.elt;o instanceof Element&&requestAnimationFrame(()=>d(o))};document.addEventListener("DOMContentLoaded",()=>d()),document.body.addEventListener("htmx:afterSwap",f),document.body.addEventListener("htmx:oobAfterSwap",f)})();})();
