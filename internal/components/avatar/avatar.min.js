(()=>{(function(){function l(t){let e=t.querySelector("[data-avatar-image]"),a=t.querySelector("[data-avatar-fallback]");if(e&&a){e.style.display="none",a.style.display="none";let n=()=>{e.style.display="none",a.style.display=""},s=()=>{e.style.display="",a.style.display="none"};e.complete?e.naturalWidth>0&&e.naturalHeight>0?s():n():(e.addEventListener("load",s,{once:!0}),e.addEventListener("error",n,{once:!0}),setTimeout(()=>{e.complete&&!(e.naturalWidth>0&&e.naturalHeight>0)&&n()},50))}else a?a.style.display="":e&&(e.style.display="")}function i(t=document){t instanceof Element&&t.matches("[data-avatar]")&&l(t);for(let e of t.querySelectorAll("[data-avatar]"))l(e)}let o=t=>{let e;t.type==="htmx:afterSwap"&&(e=t.detail.elt),t.type==="htmx:oobAfterSwap"&&(e=t.detail.target),e instanceof Element&&requestAnimationFrame(()=>i(e))};document.addEventListener("DOMContentLoaded",()=>i()),document.body.addEventListener("htmx:afterSwap",o),document.body.addEventListener("htmx:oobAfterSwap",o)})();})();
